import streamlit as st

# Page config
st.set_page_config(
    page_title="‡∑É‡∂∏‡∑è‡∂¢ ‡∂¥‡∑ä‚Äç‡∂ª‡∂≠‡∑í‡∂Ω‡∑è‡∂∑ ‡∑É‡∑Ñ‡∑è‡∂∫‡∂ö",
    page_icon="üí¨",
    layout="centered"
)

# Custom CSS
st.markdown("""
<style>
    .main {
        background: linear-gradient(to bottom right, #EFF6FF, #E0E7FF);
    }
    .stTextInput > div > div > input {
        border-radius: 10px;
    }
    .user-message {
        background-color: #6366F1;
        color: white;
        padding: 10px 15px;
        border-radius: 15px;
        margin: 5px 0;
        text-align: right;
    }
    .bot-message {
        background-color: white;
        color: #1F2937;
        padding: 10px 15px;
        border-radius: 15px;
        margin: 5px 0;
        box-shadow: 0 1px 3px rgba(0,0,0,0.1);
    }
</style>
""", unsafe_allow_html=True)

# Knowledge Base from the Sinhala document
knowledge_base = {
    'programs': '‡∂∏‡∑î‡∂Ω‡∑ä‚Äç‡∂∫, ‡∑É‡∑û‡∂õ‡∑ä‚Äç‡∂∫, ‡∂Ö‡∂∞‡∑ä‚Äç‡∂∫‡∑è‡∂¥‡∂± ‡∑É‡∑Ñ ‡∑É‡∂∏‡∑è‡∂¢ ‡∂¥‡∑ä‚Äç‡∂ª‡∂≠‡∑í‡∑É‡∑è‡∂∞‡∂± ‡∑Ä‡∑ê‡∂©‡∑É‡∂ß‡∑Ñ‡∂±‡∑ä',
    'eligibility': '‡∂ª‡∂¢‡∂∫‡∑ö ‡∂±‡∑í‡∂∫‡∂∏‡∂∫‡∂±‡∑ä ‡∂Ö‡∂±‡∑î‡∑Ä ‡∂¥‡∑ä‚Äç‡∂ª‡∂≠‡∑í‡∂¥‡∂≠‡∑ä‡∂≠‡∑í ‡∑É‡∑ê‡∂Ω‡∂ö‡∑í‡∂Ω‡∑í‡∂∏‡∂≠‡∑ä ‡∂±‡∂∏‡∑ä ‡∂Ö‡∂∫‡∂Ø‡∑î‡∂∏‡∑ä ‡∂ö‡∑Ö ‡∑Ñ‡∑ê‡∂ö. ‡∂Ü‡∂Ø‡∑è‡∂∫‡∂∏, ‡∂¥‡∑Ä‡∑î‡∂Ω‡∑ä ‡∂¥‡∑ä‚Äç‡∂ª‡∂∏‡∑è‡∂´‡∂∫, ‡∑Ä‡∂∫‡∑É ‡∑É‡∑Ñ ‡∑É‡∑û‡∂õ‡∑ä‚Äç‡∂∫ ‡∂≠‡∂≠‡∑ä‡∂≠‡∑ä‡∑Ä‡∂∫ ‡∑É‡∂Ω‡∂ö‡∑è ‡∂∂‡∂Ω‡∂±‡∑Ä‡∑è.',
    'register': '‡∂¢‡∑è‡∂≠‡∑í‡∂ö ‡∑Ñ‡∑ê‡∂≥‡∑î‡∂±‡∑î‡∂∏‡∑ä‡∂¥‡∂≠‡∑ä ‡∂Ö‡∂Ç‡∂ö‡∂∫, ‡∂Ø‡∑î‡∂ª‡∂ö‡∂Æ‡∂± ‡∂Ö‡∂Ç‡∂ö‡∂∫ ‡∑É‡∑Ñ ‡∂ä‡∂∏‡∑ö‡∂Ω‡∑ä ‡∂∑‡∑è‡∑Ä‡∑í‡∂≠‡∑è ‡∂ö‡∂ª ‡∂Ω‡∑í‡∂∫‡∑è‡∂¥‡∂Ø‡∑í‡∂Ç‡∂†‡∑í ‡∑Ä‡∑í‡∂∫ ‡∑Ñ‡∑ê‡∂ö.',
    'multiple': '‡∂î‡∑Ä‡∑ä, ‡∂¥‡∑ä‚Äç‡∂ª‡∂≠‡∑í‡∂¥‡∂≠‡∑ä‡∂≠‡∑í ‡∂Ω‡∂∂‡∑è ‡∂á‡∂≠‡∑í ‡∂±‡∂∏‡∑ä ‡∂∂‡∑Ñ‡∑î ‡∂Ö‡∂∫‡∂Ø‡∑î‡∂∏‡∑ä ‡∂ö‡∑Ö ‡∑Ñ‡∑ê‡∂ö.',
    'free': '‡∂î‡∑Ä‡∑ä, ‡∂∏‡∑ô‡∂∏ ‡∂¥‡∑ä‚Äç‡∂ª‡∂∞‡∑è‡∂±‡∑í‡∂∫ ‡∑É‡∂∏‡∑ä‡∂¥‡∑ñ‡∂ª‡∑ä‡∂´‡∂∫‡∑ô‡∂±‡∑ä‡∂∏ ‡∂±‡∑ú‡∂∏‡∑í‡∂Ω‡∑ö‡∂∫.',
    'apply': '‡∂Ö‡∂Ø‡∑è‡∂Ω ‡∑Ä‡∑ê‡∂©‡∑É‡∂ß‡∑Ñ‡∂± ‡∂≠‡∑ù‡∂ª‡∑è ‡∂Ö‡∂±‡∑ä‡∂≠‡∂ª‡∑ä‡∂¢‡∑è‡∂Ω ‡∂Ö‡∂∫‡∂Ø‡∑î‡∂∏‡∑ä‡∂¥‡∂≠‡∑ä‚Äç‡∂ª‡∂∫ ‡∂∫‡∑ú‡∂Ø‡∂±‡∑ä‡∂±.',
    'ai_decision': '‡∂±‡∑ê‡∑Ñ‡∑ê, AI ‡∑É‡∑Ñ‡∑è‡∂∫ ‡∂Ω‡∂∂‡∑è‡∂Ø‡∑ô‡∂± ‡∂¥‡∂∏‡∂´‡∑í. ‡∂Ö‡∑Ä‡∑É‡∑è‡∂± ‡∂≠‡∑ì‡∂ª‡∂´‡∂∫ ‡∂∂‡∂Ω‡∂∞‡∑è‡∂ª‡∑í‡∂±‡∑ä ‡∂ú‡∂±‡∑ä‡∂±‡∑ö.',
    'appeal': '‡∂î‡∑Ä‡∑ä, ‡∂¥‡∑ä‚Äç‡∂ª‡∂∞‡∑è‡∂±‡∑í‡∂∫ ‡∑Ñ‡∂ª‡∑Ñ‡∑è ‡∂Ö‡∂∑‡∑í‡∂∫‡∑è‡∂†‡∂±‡∂∫ ‡∂ö‡∑Ö ‡∑Ñ‡∑ê‡∂ö.',
    'online': '‡∂î‡∑Ä‡∑ä, ‡∑É‡∑í‡∂∫‡∂Ω‡∑î ‡∂Ö‡∂∫‡∂Ø‡∑î‡∂∏‡∑ä ‡∂Ö‡∂±‡∑ä‡∂≠‡∂ª‡∑ä‡∂¢‡∑è‡∂Ω‡∂∫‡∑ô‡∂±‡∑ä.',
    'documents': 'NIC ‡∑É‡∑Ñ ‡∂Ü‡∂Ø‡∑è‡∂∫‡∂∏‡∑ä ‡∑É‡∂±‡∑è‡∂Æ ‡∂ö‡∑í‡∂ª‡∑ì‡∂∏ ‡∂Ö‡∑Ä‡∑Å‡∑ä‚Äç‡∂∫‡∂∫‡∑í.',
    'edit': '‡∂î‡∑Ä‡∑ä, ‡∂Ö‡∑Ä‡∑É‡∂±‡∑ä ‡∂∫‡∑ú‡∂∏‡∑î ‡∂ö‡∑í‡∂ª‡∑ì‡∂∏‡∂ß ‡∂¥‡∑ô‡∂ª ‡∑É‡∂Ç‡∑Å‡∑ù‡∂∞‡∂±‡∂∫ ‡∂ö‡∑Ö ‡∑Ñ‡∑ê‡∂ö.',
    'time': '‡∑É‡∑è‡∂∏‡∑è‡∂±‡∑ä‚Äç‡∂∫‡∂∫‡∑ô‡∂±‡∑ä ‡∑É‡∂≠‡∑í 2-4 ‡∂ú‡∂≠‡∑Ä‡∑ö.',
    'status': '‡∂î‡∂∂‡∂ú‡∑ö ‡∂ú‡∑í‡∂´‡∑î‡∂∏ ‡∂á‡∂≠‡∑î‡∑Ö‡∂≠ ‡∂∂‡∂Ω‡∂±‡∑ä‡∂±.',
    'criteria': '‡∂Ü‡∂Ø‡∑è‡∂∫‡∂∏, ‡∂¥‡∑Ä‡∑î‡∂Ω‡∑ä ‡∂¥‡∑ä‚Äç‡∂ª‡∂∏‡∑è‡∂´‡∂∫, ‡∑Ä‡∂∫‡∑É, ‡∑É‡∑û‡∂õ‡∑ä‚Äç‡∂∫‡∂∫ ‡∂Ö‡∂±‡∑î‡∑Ä ‡∂≠‡∑ì‡∂ª‡∂´‡∂∫ ‡∂ö‡∂ª‡∂±‡∑Ä‡∑è.',
    'not_eligible': '‡∂¥‡∑ä‚Äç‡∂ª‡∂≠‡∑í‡∂¥‡∂≠‡∑ä‡∂≠‡∑í ‡∂ö‡∑ú‡∂±‡∑ä‡∂Ø‡∑ö‡∑É‡∑í ‡∂±‡∑ú‡∂¥‡∑í‡∂ª‡∑ô‡∂±‡∑Ä‡∑è ‡∂±‡∂∏‡∑ä ‡∂±‡∑ú‡∂Ω‡∑ê‡∂∂‡∑ö.',
    'data_safe': '‡∂î‡∑Ä‡∑ä, ‡∂Ø‡∂≠‡∑ä‡∂≠ ‡∂Ü‡∂ª‡∂ö‡∑ä‡∑Ç‡∑í‡∂≠‡∂∫‡∑í.',
    'languages': '‡∂î‡∑Ä‡∑ä, ‡∑É‡∑í‡∂Ç‡∑Ñ‡∂Ω, ‡∂Ø‡∑ô‡∂∏‡∑Ö, ‡∂â‡∂Ç‡∂ú‡∑ä‚Äç‡∂ª‡∑ì‡∑É‡∑í ‡∑É‡∑Ñ‡∑è‡∂∫ ‡∂á‡∂≠.',
    'support': '‡∂î‡∑Ä‡∑ä, ‡∂†‡∑ê‡∂ß‡∑ä‡∂∂‡∑ù‡∂ß‡∑ä 24/7 ‡∑É‡∑Ñ‡∑è‡∂∫ ‡∂á‡∂≠.',
    'password': '"Forgot Password" ‡∂∑‡∑è‡∑Ä‡∑í‡∂≠‡∑è ‡∂ö‡∂ª‡∂±‡∑ä‡∂±.',
    'upload': '‡∂î‡∑Ä‡∑ä, ‡∂Ö‡∂±‡∑î‡∂∏‡∑ê‡∂≠‡∑í‡∂∫‡∂ß ‡∂¥‡∑ô‡∂ª.',
    'formats': 'PDF, JPG, ‡∑É‡∑Ñ PNG.',
    'draft': '‡∂î‡∑Ä‡∑ä, ‡∂¥‡∑É‡∑î‡∑Ä ‡∂±‡∑ê‡∑Ä‡∂≠ ‡∂ö‡∂ª‡∂ú‡∑ô‡∂± ‡∂∫‡∑è ‡∑Ñ‡∑ê‡∂ö.',
    'notifications': '‡∂î‡∑Ä‡∑ä, SMS ‡∑É‡∑Ñ Email ‡∂∏‡∂ú‡∑í‡∂±‡∑ä.',
    'mobile': '‡∂î‡∑Ä‡∑ä, ‡∂¢‡∂Ç‡∂ú‡∂∏ ‡∑Å‡∑ä‚Äç‡∂ª‡∑ì‡∂≠‡∂ö‡∑è‡∂ª‡∑ì.',
    'internet': '‡∂î‡∑Ä‡∑ä, ‡∂Ö‡∂±‡∑ä‡∂≠‡∂ª‡∑ä‡∂¢‡∑è‡∂Ω‡∂∫ ‡∂Ö‡∑Ä‡∑Å‡∑ä‚Äç‡∂∫‡∂∫‡∑í.',
    'others': '‡∂î‡∑Ä‡∑ä, ‡∂Ö‡∑Ä‡∑Å‡∑ä‚Äç‡∂∫ ‡∂Ö‡∂±‡∑î‡∂∏‡∑ê‡∂≠‡∑í‡∂∫ ‡∑É‡∂∏‡∂ü.',
    'benefits': '‡∂î‡∑Ä‡∑ä, ‡∂∂‡∑ê‡∂Ç‡∂ö‡∑î ‡∂ú‡∑í‡∂´‡∑î‡∂∏ ‡∑Ä‡∑ô‡∂≠ ‡∂Ω‡∂∂‡∑è‡∂Ø‡∑ö.',
    'family': '‡∂Ö‡∑Ä‡∑É‡∂ª ‡∂á‡∂≠‡∑í ‡∂±‡∂∏‡∑ä ‡∂î‡∑Ä‡∑ä.',
    'limit': '‡∂ë‡∂ö‡∑ä file ‡∂ë‡∂ö‡∂ö‡∂ß 5MB.',
    'government': '‡∂î‡∑Ä‡∑ä, ‡∂±‡∑í‡∂Ω ‡∂Ö‡∂±‡∑î‡∂∏‡∑ê‡∂≠‡∑í‡∂∫ ‡∂á‡∂≠.',
    'helpdesk': '‡∂†‡∑ê‡∂ß‡∑ä‡∂∂‡∑ù‡∂ß‡∑ä ‡∑Ñ‡∑ù ‡∂ã‡∂Ø‡∑Ä‡∑ä ‡∂∏‡∂∞‡∑ä‚Äç‡∂∫‡∑É‡∑ä‡∂Æ‡∑è‡∂±‡∂∫‡∑ô‡∂±‡∑ä.',
    'voice': '‡∂Ø‡∑ê‡∂±‡∂ß ‡∂±‡∑ê‡∑Ñ‡∑ê, ‡∂â‡∂Ø‡∑í‡∂ª‡∑í‡∂∫‡∂ß ‡∑É‡∑ê‡∂Ω‡∑É‡∑î‡∂∏‡∑ä ‡∂ö‡∂ª ‡∂á‡∂≠.'
}

# Keywords for matching
keywords = {
    'programs': ['‡∑Ä‡∑ê‡∂©‡∑É‡∂ß‡∑Ñ‡∂±‡∑ä', '‡∑Ä‡∑ê‡∂©‡∑É‡∂ß‡∑Ñ‡∂±', '‡∂¥‡∑ä‚Äç‡∂ª‡∂≠‡∑í‡∂Ω‡∑è‡∂∑', '‡∂ö‡∑î‡∂∏‡∂ö‡∑ä‡∂Ø', '‡∂∏‡∑ú‡∂±‡∑Ä‡∑è‡∂Ø', 'program'],
    'eligibility': ['‡∑É‡∑î‡∂Ø‡∑î‡∑É‡∑î‡∂ö‡∂∏‡∑ä', '‡∂Ö‡∂∫‡∂Ø‡∑î‡∂∏‡∑ä', '‡∂ö‡∑Ö ‡∑Ñ‡∑ê‡∂ö‡∑í‡∂Ø', '‡∂¥‡∑ä‚Äç‡∂ª‡∂≠‡∑í‡∂¥‡∂≠‡∑ä‡∂≠‡∑í', 'eligible', 'qualify'],
    'register': ['‡∂Ω‡∑í‡∂∫‡∑è‡∂¥‡∂Ø‡∑í‡∂Ç‡∂†‡∑í', '‡∂ú‡∑í‡∂´‡∑î‡∂∏‡∂ö‡∑ä', 'register', 'account', '‡∑É‡∑è‡∂Ø‡∂±‡∑ä‡∂±‡∑ö'],
    'multiple': ['‡∂ë‡∂ö‡∂ö‡∂ß ‡∑Ä‡∂©‡∑è', '‡∂∂‡∑Ñ‡∑î', 'multiple', '‡∑Ä‡∑ê‡∂©‡∑í'],
    'free': ['‡∂±‡∑ú‡∂∏‡∑í‡∂Ω‡∑ö', 'free', 'charge', '‡∂∏‡∑í‡∂Ω'],
    'apply': ['‡∂Ö‡∂∫‡∂Ø‡∑î‡∂∏‡∑ä', 'apply', '‡∂∫‡∑ú‡∂Ø‡∂±‡∑ä‡∂±‡∑ö', '‡∂ö‡∂ª‡∂±‡∑ä‡∂±‡∑ö'],
    'ai_decision': ['ai', '‡∂≠‡∑ì‡∂ª‡∂´‡∂∫', 'decision', '‡∂ö‡∑ò‡∂≠‡∑í‡∂∏'],
    'appeal': ['‡∂Ö‡∂∑‡∑í‡∂∫‡∑è‡∂†‡∂±‡∂∫', 'appeal', '‡∑Ä‡∑í‡∂ª‡∑ù‡∂∞‡∂∫'],
    'online': ['‡∂Ö‡∂±‡∑ä‡∂≠‡∂ª‡∑ä‡∂¢‡∑è‡∂Ω', 'online', 'internet'],
    'documents': ['‡∂Ω‡∑ö‡∂õ‡∂±', 'document', '‡∂Ö‡∑Ä‡∑Å‡∑ä‚Äç‡∂∫', 'required'],
    'edit': ['‡∑Ä‡∑ô‡∂±‡∑É‡∑ä', 'edit', '‡∑É‡∂Ç‡∑Å‡∑ù‡∂∞‡∂±', 'change'],
    'time': ['‡∂ö‡∑è‡∂Ω‡∂∫', 'time', '‡∂ö‡∑ú‡∂¥‡∂∏‡∂´', '‡∂Ø‡∑í‡∂±', '‡∑É‡∂≠‡∑í'],
    'status': ['‡∂≠‡∂≠‡∑ä‡∂≠‡∑ä‡∑Ä‡∂∫', 'status', '‡∂∂‡∂Ω‡∂±‡∑ä‡∂±‡∑ö', 'check'],
    'criteria': ['‡∂±‡∑í‡∂ª‡∑ä‡∂´‡∂∫', 'criteria', '‡∂≠‡∑ì‡∂ª‡∂´‡∂∫', '‡∑É‡∂Ω‡∂ö‡∂±'],
    'not_eligible': ['‡∂±‡∑ú‡∂Ω‡∑ê‡∂∂‡∑ö', '‡∑É‡∑î‡∂Ø‡∑î‡∑É‡∑î ‡∂±‡∑ê‡∂≠‡∑í', 'not eligible'],
    'data_safe': ['‡∂Ü‡∂ª‡∂ö‡∑ä‡∑Ç‡∑í‡∂≠', 'safe', 'security', '‡∂Ø‡∂≠‡∑ä‡∂≠'],
    'languages': ['‡∂∑‡∑è‡∑Ç‡∑è', 'language', '‡∑É‡∑í‡∂Ç‡∑Ñ‡∂Ω', '‡∂Ø‡∑ô‡∂∏‡∑Ö'],
    'support': ['‡∑É‡∑Ñ‡∑è‡∂∫', 'support', '‡∂ã‡∂Ø‡∑Ä‡∑ä', 'help'],
    'password': ['‡∂∏‡∑î‡∂ª‡∂¥‡∂Ø‡∂∫', 'password', '‡∂Ö‡∂∏‡∂≠‡∂ö'],
    'upload': ['‡∂ã‡∂©‡∑î‡∂ú‡∂≠', 'upload', 'file'],
    'formats': ['format', '‡∂Ü‡∂ö‡∑ò‡∂≠‡∑í'],
    'draft': ['draft', '‡∂≠‡∑è‡∑Ä‡∂ö‡∑è‡∂Ω‡∑í‡∂ö', 'save'],
    'notifications': ['‡∂Ø‡∑ê‡∂±‡∑î‡∂∏‡∑ä‡∂Ø‡∑ì‡∂∏‡∑ä', 'notification', 'alert'],
    'mobile': ['‡∂¢‡∂Ç‡∂ú‡∂∏', 'mobile', 'phone'],
    'internet': ['‡∂Ö‡∂±‡∑ä‡∂≠‡∂ª‡∑ä‡∂¢‡∑è‡∂Ω', 'internet', 'wifi'],
    'others': ['‡∑Ä‡∑ô‡∂±‡∂≠‡∑ä', 'other', '‡∂Ö‡∂±‡∑ô‡∂ö‡∑ä'],
    'benefits': ['‡∂¥‡∑ä‚Äç‡∂ª‡∂≠‡∑í‡∂Ω‡∑è‡∂∑', 'benefit', 'payment', '‡∂ú‡∑ô‡∑Ä‡∑ì‡∂∏‡∑ä'],
    'family': ['‡∂¥‡∑Ä‡∑î‡∂Ω', 'family', '‡∑É‡∑è‡∂∏‡∑è‡∂¢‡∑í‡∂ö'],
    'limit': ['‡∑É‡∑ì‡∂∏‡∑è‡∑Ä', 'limit', 'maximum'],
    'government': ['‡∂ª‡∂¢‡∂∫', 'government', '‡∂Ö‡∂±‡∑î‡∂∏‡∂≠'],
    'helpdesk': ['‡∂ã‡∂Ø‡∑Ä‡∑ä', 'help', '‡∑É‡∑Ñ‡∑è‡∂∫', 'support'],
    'voice': ['‡∑Ñ‡∂¨', 'voice', 'audio']
}

def find_answer(question):
    """Find answer based on keyword matching"""
    q = question.lower()
    
    for category, words in keywords.items():
        if any(word in q for word in words):
            return knowledge_base[category]
    
    return '‡∂∏‡∂ß ‡∑É‡∂∏‡∑è‡∑Ä‡∑ô‡∂±‡∑ä‡∂±, ‡∂∏‡∂∏ ‡∂ë‡∂∏ ‡∂¥‡∑ä‚Äç‡∂ª‡∑Å‡∑ä‡∂±‡∂∫‡∂ß ‡∂¥‡∑í‡∑Ö‡∑í‡∂≠‡∑î‡∂ª‡∑î ‡∂Ø‡∑ê‡∂±‡∂ú‡∑ô‡∂± ‡∂±‡∑ê‡∑Ñ‡∑ê. ‡∂ö‡∂ª‡∑î‡∂´‡∑è‡∂ö‡∂ª ‡∑Ä‡∑ô‡∂±‡∂≠‡∑ä ‡∂Ü‡∂ö‡∑è‡∂ª‡∂∫‡∂ö‡∑í‡∂±‡∑ä ‡∂Ö‡∑Ñ‡∂±‡∑ä‡∂± ‡∑Ñ‡∑ù ‡∂†‡∑ê‡∂ß‡∑ä‡∂∂‡∑ù‡∂ß‡∑ä ‡∑É‡∑Ñ‡∑è‡∂∫ ‡∂â‡∂Ω‡∑ä‡∂Ω‡∂±‡∑ä‡∂±.\n\n‡∑É‡∑è‡∂∏‡∑è‡∂±‡∑ä‚Äç‡∂∫ ‡∂¥‡∑ä‚Äç‡∂ª‡∑Å‡∑ä‡∂±:\n- ‡∑Ä‡∑ê‡∂©‡∑É‡∂ß‡∑Ñ‡∂±‡∑ä ‡∂∏‡∑ú‡∂±‡∑Ä‡∑è‡∂Ø?\n- ‡∂Ö‡∂∫‡∂Ø‡∑î‡∂∏‡∑ä ‡∂ö‡∂ª‡∂±‡∑ä‡∂±‡∑ö ‡∂ö‡∑ú‡∑Ñ‡∑ú‡∂∏‡∂Ø?\n- ‡∂Ö‡∑Ä‡∑Å‡∑ä‚Äç‡∂∫ ‡∂Ω‡∑ö‡∂õ‡∂± ‡∂∏‡∑ú‡∂±‡∑Ä‡∑è‡∂Ø?\n- ‡∂ö‡∑ú‡∂¥‡∂∏‡∂´ ‡∂ö‡∑è‡∂Ω‡∂∫‡∂ö‡∑ä ‡∂ú‡∂≠‡∑Ä‡∑ö‡∂Ø?'

# Initialize session state
if 'messages' not in st.session_state:
    st.session_state.messages = [
        {
            'role': 'assistant',
            'content': '‡∂Ü‡∂∫‡∑î‡∂∂‡∑ù‡∑Ä‡∂±‡∑ä! üëã ‡∂∏‡∂∏ ‡∑É‡∂∏‡∑è‡∂¢ ‡∂¥‡∑ä‚Äç‡∂ª‡∂≠‡∑í‡∂Ω‡∑è‡∂∑ ‡∑Ä‡∑ê‡∂©‡∑É‡∂ß‡∑Ñ‡∂±‡∑ä ‡∂¥‡∑í‡∑Ö‡∑í‡∂∂‡∂≥ ‡∂¥‡∑ä‚Äç‡∂ª‡∑Å‡∑ä‡∂± ‡∑Ä‡∂Ω‡∂ß ‡∂ã‡∂Ø‡∑Ä‡∑ä ‡∂ö‡∂ª‡∂±‡∑ä‡∂±‡∂∏‡∑ä. ‡∂î‡∂∂‡∂ß ‡∂∏‡∑ú‡∂±‡∑Ä‡∑è ‡∂Ø‡∑ê‡∂± ‡∂ú‡∂±‡∑ä‡∂± ‡∂ï‡∂±‡∑ö‡∂Ø?'
        }
    ]

# Header
st.title("üí¨ ‡∑É‡∂∏‡∑è‡∂¢ ‡∂¥‡∑ä‚Äç‡∂ª‡∂≠‡∑í‡∂Ω‡∑è‡∂∑ ‡∑É‡∑Ñ‡∑è‡∂∫‡∂ö")
st.markdown("**Social Welfare Assistant Chatbot**")
st.divider()

# Quick questions
st.markdown("#### ‡∂â‡∂ö‡∑ä‡∂∏‡∂±‡∑ä ‡∂¥‡∑ä‚Äç‡∂ª‡∑Å‡∑ä‡∂±:")
col1, col2 = st.columns(2)
with col1:
    if st.button("üìã ‡∑Ä‡∑ê‡∂©‡∑É‡∂ß‡∑Ñ‡∂±‡∑ä ‡∂∏‡∑ú‡∂±‡∑Ä‡∑è‡∂Ø?"):
        st.session_state.messages.append({'role': 'user', 'content': '‡∑Ä‡∑ê‡∂©‡∑É‡∂ß‡∑Ñ‡∂±‡∑ä ‡∂∏‡∑ú‡∂±‡∑Ä‡∑è‡∂Ø?'})
        response = find_answer('‡∑Ä‡∑ê‡∂©‡∑É‡∂ß‡∑Ñ‡∂±‡∑ä ‡∂∏‡∑ú‡∂±‡∑Ä‡∑è‡∂Ø?')
        st.session_state.messages.append({'role': 'assistant', 'content': response})
        st.rerun()
    
    if st.button("üìù ‡∂Ö‡∂∫‡∂Ø‡∑î‡∂∏‡∑ä ‡∂ö‡∂ª‡∂±‡∑ä‡∂±‡∑ö ‡∂ö‡∑ú‡∑Ñ‡∑ú‡∂∏‡∂Ø?"):
        st.session_state.messages.append({'role': 'user', 'content': '‡∂Ö‡∂∫‡∂Ø‡∑î‡∂∏‡∑ä ‡∂ö‡∂ª‡∂±‡∑ä‡∂±‡∑ö ‡∂ö‡∑ú‡∑Ñ‡∑ú‡∂∏‡∂Ø?'})
        response = find_answer('‡∂Ö‡∂∫‡∂Ø‡∑î‡∂∏‡∑ä ‡∂ö‡∂ª‡∂±‡∑ä‡∂±‡∑ö ‡∂ö‡∑ú‡∑Ñ‡∑ú‡∂∏‡∂Ø?')
        st.session_state.messages.append({'role': 'assistant', 'content': response})
        st.rerun()

with col2:
    if st.button("‚è±Ô∏è ‡∂ö‡∑ú‡∂¥‡∂∏‡∂´ ‡∂ö‡∑è‡∂Ω‡∂∫‡∂ö‡∑ä ‡∂ú‡∂≠‡∑Ä‡∑ö‡∂Ø?"):
        st.session_state.messages.append({'role': 'user', 'content': '‡∂ö‡∑ú‡∂¥‡∂∏‡∂´ ‡∂ö‡∑è‡∂Ω‡∂∫‡∂ö‡∑ä ‡∂ú‡∂≠‡∑Ä‡∑ö‡∂Ø?'})
        response = find_answer('‡∂ö‡∑ú‡∂¥‡∂∏‡∂´ ‡∂ö‡∑è‡∂Ω‡∂∫‡∂ö‡∑ä ‡∂ú‡∂≠‡∑Ä‡∑ö‡∂Ø?')
        st.session_state.messages.append({'role': 'assistant', 'content': response})
        st.rerun()
    
    if st.button("üìÑ ‡∂Ö‡∑Ä‡∑Å‡∑ä‚Äç‡∂∫ ‡∂Ω‡∑ö‡∂õ‡∂± ‡∂∏‡∑ú‡∂±‡∑Ä‡∑è‡∂Ø?"):
        st.session_state.messages.append({'role': 'user', 'content': '‡∂Ö‡∑Ä‡∑Å‡∑ä‚Äç‡∂∫ ‡∂Ω‡∑ö‡∂õ‡∂± ‡∂∏‡∑ú‡∂±‡∑Ä‡∑è‡∂Ø?'})
        response = find_answer('‡∂Ö‡∑Ä‡∑Å‡∑ä‚Äç‡∂∫ ‡∂Ω‡∑ö‡∂õ‡∂± ‡∂∏‡∑ú‡∂±‡∑Ä‡∑è‡∂Ø?')
        st.session_state.messages.append({'role': 'assistant', 'content': response})
        st.rerun()

st.divider()

# Display chat messages
for message in st.session_state.messages:
    if message['role'] == 'user':
        st.markdown(f'<div class="user-message">üë§ {message["content"]}</div>', unsafe_allow_html=True)
    else:
        st.markdown(f'<div class="bot-message">ü§ñ {message["content"]}</div>', unsafe_allow_html=True)

# Chat input
user_input = st.chat_input("‡∂î‡∂∂‡∂ú‡∑ö ‡∂¥‡∑ä‚Äç‡∂ª‡∑Å‡∑ä‡∂±‡∂∫ ‡∂∏‡∑ô‡∑Ñ‡∑í ‡∂ß‡∂∫‡∑í‡∂¥‡∑ä ‡∂ö‡∂ª‡∂±‡∑ä‡∂±...")

if user_input:
    # Add user message
    st.session_state.messages.append({'role': 'user', 'content': user_input})
    
    # Get bot response
    response = find_answer(user_input)
    st.session_state.messages.append({'role': 'assistant', 'content': response})
    
    # Rerun to update chat
    st.rerun()

# Footer
st.divider()
st.markdown("""
<div style='text-align: center; color: #6B7280; font-size: 12px;'>
    </div>
""", unsafe_allow_html=True)